<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.dao.LoginLogDao">
    <insert id="insertLoginLog" >
        INSERT INTO login_log(user_id, ip,login_date)
                VALUE( #{userId},#{ip},#{loginDate});
    </insert>
    <!--双引号部分是对user引用的填充-->
    <select id="findLoginLogByUserID" resultType="cn.entity.LoginLog">
        SELECT
            llog.login_log_id,
            llog.user_id,
            llog.login_date,
            llog.ip,
            tuser.user_id "user.user_id",
            tuser.user_name "user.user_name",
            tuser.sex "user.sex"
        FROM login_log llog
            INNER JOIN t_user tuser ON llog.user_id = tuser.user_id
        WHERE llog.user_id = #{userId}
    </select>
</mapper>